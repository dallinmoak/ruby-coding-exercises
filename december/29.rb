require 'rspec'

class Array
  def bubble_sort
    arr = self
    loop do
      swapped = false
      (self.length-1).times do |i|
      if arr[i] > arr[i+1]
        a = arr[i]
        arr[i] = arr [i+1]
        arr [i+1] = a
        swapped = true
      end
    end
    break if !swapped
    end
    arr
  end
end

describe 'Adding bubble sort to the Array class' do
  it 'Properly sorts an array' do
  arr = [482, 482,182,182, 131, 220, 225, 474, 242, 9, 382, 288, 120, 380, 495, 477, 119, 493, 321, 432, 25, 11, 227, 434, 366, 226, 133, 355, 432, 39, 34, 461, 262, 433, 433, 161, 11, 312, 46, 260, 436, 99, 372, 299, 415, 75, 476, 292, 66, 251, 327, 326, 241, 401, 23, 86, 95, 419, 253, 106, 460, 358, 275, 259, 238, 422, 378, 164, 122, 370, 103, 11, 304, 294, 27, 239, 130, 380, 433, 150, 154, 206, 477, 50, 136, 421, 440, 407, 2, 244, 325, 112, 174, 41, 373, 488, 144, 351, 400, 218, 40, 98, 73, 381, 200, 182, 170, 445, 187, 162, 75, 322, 283, 366, 200, 385, 461, 443, 286, 186, 196, 334, 155, 185, 375, 186, 226, 271, 154, 326, 422, 113, 164, 126, 123, 408, 302, 35, 258, 12, 300, 390, 138, 355, 44, 410, 143, 405, 147, 26, 68, 316, 244, 81, 26, 445, 133, 123, 499, 212, 229, 206, 207, 29, 77, 452, 316, 451, 498, 227, 42, 264, 49, 491, 355, 219, 33, 149, 145, 96, 73, 348, 39, 439, 201, 234, 105, 494, 114, 388, 236, 107, 4, 236, 398, 173, 114, 372, 29, 217, 304, 240, 124, 236, 294, 467, 423, 55, 35, 300, 338, 57, 129, 343, 18, 126, 154, 356, 25, 15, 100, 161, 254, 459, 14, 14, 412, 190, 67, 135, 297, 63, 265, 139, 371, 426, 127, 389, 448, 342, 6, 330, 126, 152, 117, 25, 342, 433, 170, 264, 300, 354, 36, 155, 237, 158, 49, 473, 192, 42, 337, 140, 359, 400, 39, 170, 172, 326, 439, 173, 86, 226, 56, 232, 452, 169, 114, 453, 442, 375, 65, 226, 27, 211, 96, 113, 449, 488, 327, 301, 316, 52, 487, 434, 334, 17, 339, 1, 157, 85, 41, 317, 336, 290, 388, 246, 369, 268, 305, 148, 423, 284, 420, 147, 259, 448, 373, 425, 300, 456, 488, 335, 183, 166, 191, 168, 457, 268, 145, 120, 243, 259, 300, 128, 120, 202, 78, 4, 410, 258, 243, 27, 123, 143, 328, 47, 168, 323, 167, 276, 337, 248, 74, 40, 349, 88, 174, 247, 384, 5, 53, 421, 142, 374, 95, 228, 181, 475, 326, 200, 355, 146, 450, 129, 222, 19, 345, 497, 278, 216, 122, 155, 149, 315, 30, 375, 319, 341, 353, 86, 219, 133, 323, 196, 386, 354, 121, 95, 35, 387, 389, 283, 1, 388, 280, 107, 9, 396, 115, 189, 414, 50, 341, 370, 159, 310, 472, 488, 46, 35, 197, 53, 175, 405, 269, 206, 72, 272, 107, 140, 384, 224, 209, 174, 5, 416, 415, 33, 58, 427, 363, 437, 183, 486, 415, 341, 384, 484, 377, 137, 242, 311, 481, 210, 417, 181, 281, 459, 77, 212, 450, 131, 338, 142, 93, 457, 291, 47, 198, 463, 369, 225, 271, 434, 284, 157, 379, 8, 191, 269, 487, 125, 31, 435, 217, 124, 30, 261, 129, 245, 60, 53, 201, 408, 186, 189, 451, 45, 222, 262]
  expect(arr.bubble_sort).to eq(arr.sort)
  end
end
